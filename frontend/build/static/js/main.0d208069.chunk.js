(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/office_icon.1e722c48.png"},142:function(e,t,a){e.exports=a(295)},147:function(e,t,a){},152:function(e,t){},154:function(e,t){},168:function(e,t){},170:function(e,t){},198:function(e,t){},200:function(e,t){},201:function(e,t){},207:function(e,t){},209:function(e,t){},227:function(e,t){},230:function(e,t){},246:function(e,t){},249:function(e,t){},266:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(133),s=a.n(c),l=(a(147),a(1)),o=a.n(l),u=a(5),i=a(4),m=a(134),p=a(8),f=(a(266),function(e){var t=e.currentUser,a=e.logout;return r.a.createElement("nav",{className:"Navigation navbar-expand navbar navbar-dark bg-primary"},r.a.createElement(p.c,{className:"Navigation-link navbar-brand",to:"/"},"Jobly"),t?r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{className:"Navigation-link",to:"/companies"},"Companies")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{className:"Navigation-link",to:"/jobs"},"Jobs")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{className:"Navigation-link",to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{className:"Navigation-link",to:"/applications"},"My Applications")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{className:"Navigation-link",to:"/",onClick:a},"Logout"))):r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{className:"Navigation-link",to:"/login"},"Login"))))}),v=a(23),b=a(136),d=a(137),h=a(138),E=a.n(h),g={DATABASE_URL:"https://jobly-jt-0520.herokuapp.com"}.DATABASE_URL||"https://localhost:3001",j=function(){function e(){Object(b.a)(this,e)}return Object(d.a)(e,null,[{key:"request",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:"get",a._token=JSON.parse(localStorage.getItem("token")),console.debug("API Call:",t,a,n),e.prev=4,e.next=7,E()(Object(v.a)({method:n,url:"".concat(g,"/").concat(t)},"get"===n?"params":"data",a));case 7:return e.abrupt("return",e.sent.data);case 10:throw e.prev=10,e.t0=e.catch(4),console.error("API Error:",e.t0.response),r=e.t0.response.data.message,Array.isArray(r)?r:[r];case 15:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users",t,"post");case 2:return a=e.sent,e.abrupt("return",a.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("login",t,"post");case 2:return a=e.sent,e.abrupt("return",a.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),a,"patch");case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.request("companies",t);case 3:return a=e.sent,e.abrupt("return",a.companies);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJob",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.job);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.request("jobs",t);case 3:return a=e.sent,e.abrupt("return",a.jobs);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"applyToJob",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t,"/apply"),{state:"applied"},"post");case 2:return a=e.sent,e.abrupt("return",a.message);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unApplyToJob",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t,"/apply"),{},"delete");case 2:return a=e.sent,e.abrupt("return",a.message);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),y=a(7),N=(a(287),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=Object(n.useRef)();return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];a.current&&clearTimeout(a.current),a.current=setTimeout((function(){e.apply(null,r)}),t)}}),O=function(e){var t=e.filterResults,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],l=c[1],o=N(t,500);return Object(n.useEffect)((function(){o(s)}),[s,o]),r.a.createElement("form",{className:"Searchbox form-inline mt-3",onSubmit:function(e){e.preventDefault()}},r.a.createElement("input",{className:"form-control form-control-lg flex-grow-1",type:"search",name:"search",value:s,placeholder:"Search...",onChange:function(e){l(e.target.value)}}))},x=a(139),k=a.n(x),w=(a(288),function(e){var t=e.description,a=e.name,n=e.logo_url,c=r.a.createElement("img",{className:"img-thumbnail ml-auto",src:n||k.a,alt:a});return r.a.createElement("div",{className:"CompanyCard card p-2 mb-1"},r.a.createElement("h5",{className:"card-title"},a),c,r.a.createElement("p",{className:"card-text"},t))}),C=function(e){var t=e.companies;return r.a.createElement("ul",{className:"CompanyList list-unstyled"},t.map((function(e,t){var a=e.description,n=e.logo_url,c=e.handle,s=e.name;return r.a.createElement("li",{key:t},r.a.createElement(p.b,{to:"/companies/".concat(c)},r.a.createElement(w,{description:a,logo_url:n,name:s})))})))},S=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(i.a)(s,2),m=l[0],p=l[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),b=v[0],d=v[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getCompanies({search:b});case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),c(!1)}),[b]),a?r.a.createElement("p",null,"Loading \u2026"):r.a.createElement("div",{className:"Companies container"},r.a.createElement(O,{filterResults:d}),r.a.createElement(C,{companies:m}))},_=r.a.createContext(),A=function(e){var t=e.id,a=e.title,c=e.equity,s=e.salary,l=e.company_handle,o=e.apply,u=e.unapply,i=Object(n.useContext)(_).appliedIds;return r.a.createElement("div",{className:"CompanyCard card p-2 mb-1"},r.a.createElement("h5",{className:"card-title"},a),l?r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},r.a.createElement(p.b,{to:"/companies/".concat(l)},"(@",l,")")):null,r.a.createElement("p",{className:"card-text"},s?r.a.createElement("span",null,"Salary: ",s):null,r.a.createElement("br",null),c?r.a.createElement("span",null,"Equity: ",c):null),i.includes(t)?r.a.createElement("button",{className:"btn btn-danger ml-auto",onClick:function(){return u(t)}},"Remove Application"):r.a.createElement("button",{className:"btn btn-success ml-auto",onClick:function(){return o(t)}},"Apply"))},J=function(e){var t=e.jobs,a=e.apply,n=e.unapply;return r.a.createElement("ul",{className:"JobsList list-unstyled"},t.map((function(e){var t=e.id,c=e.title,s=e.salary,l=e.equity,o=e.company_handle;return r.a.createElement("li",{key:t},r.a.createElement(A,{id:t,title:c,salary:s,equity:l,company_handle:o,apply:a,unapply:n}))})))},U=a(140),q=function(){var e=Object(n.useContext)(_).setAppliedIds;return[function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.applyToJob(a);case 2:e((function(e){return[].concat(Object(U.a)(e),[a])}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.unApplyToJob(a);case 2:e((function(e){return e.filter((function(e){return e!==a}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]},F=function(){var e=Object(y.h)().handle,t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)({}),m=Object(i.a)(l,2),p=m[0],f=m[1],v=q(),b=Object(i.a)(v,2),d=b[0],h=b[1];if(Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getCompany(e);case 2:a=t.sent,f(a),s(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),c)return r.a.createElement("p",null,"Loading \u2026");var E=p.description,g=p.name,N=p.logo_url,O=p.jobs;return r.a.createElement("div",{className:"Company"},r.a.createElement(w,{description:E,handle:e,name:g,logo_url:N}),r.a.createElement("div",{className:"container"},r.a.createElement(J,{jobs:O,apply:d,unapply:h})))},L=(a(289),function(){var e=Object(n.useContext)(_).currentUser;return r.a.createElement("div",{className:"Home jumbotron"},r.a.createElement("h1",{className:"display-4"},"Jobly"),r.a.createElement("p",{className:"lead"},"All the jobs in one, convenient place."),e?"Welcome Back!":null)}),P=function(e){var t=e.headDesc,a=void 0===t?"":t,n=e.tailDesc,c=void 0===n?"":n,s=e.options,l=void 0===s?[]:s,o=e.value,u=e.action,i=e.subaction;return r.a.createElement("div",{className:"SelectField"},a,r.a.createElement("select",{value:o,onChange:function(e){u(e.target.value),i(1)}},l.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),c)},I=(a(290),function(e){var t=e.page,a=e.goBack,n=e.goForward;return r.a.createElement("nav",{className:"Pagination","aria-label":"Pagination"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:a},"Previous")),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link"},t)),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:n},"Next"))))}),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(1),l=Object(i.a)(s,2),o=l[0],u=l[1],m=Object(n.useState)(e),p=Object(i.a)(m,2),f=p[0],v=p[1],b=function(){u((function(e){return Math.max(e-1,1)}))},d=function(){u((function(e){return Math.min(e+1,Math.ceil(r.length/f))}))};return[r,c,o,u,f,v,b,d]},D=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],s=T(20),l=Object(i.a)(s,8),m=l[0],p=l[1],f=l[2],v=l[3],b=l[4],d=l[5],h=l[6],E=l[7],g=Object(n.useState)(""),y=Object(i.a)(g,2),N=y[0],x=y[1],k=q(),w=Object(i.a)(k,2),C=w[0],S=w[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getJobs({search:N});case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),c(!1),v(1)}),[N,p,v]),a?r.a.createElement("p",null,"Loading \u2026"):r.a.createElement("div",{className:"Jobs container"},r.a.createElement(O,{filterResults:x}),r.a.createElement(J,{jobs:m.slice(b*(f-1),b*f),apply:C,unapply:S}),r.a.createElement(I,{page:f,goBack:h,goForward:E}),r.a.createElement(P,{headDesc:"Show me ",tailDesc:" results per page",options:[10,20,50,100],value:b,action:d,subaction:v}))},B=a(141),R=a(19);a(291);var M=function(e){var t=e.type,a=void 0===t?"danger":t,n=e.msgs,c=void 0===n?[]:n;return r.a.createElement("div",{className:"alert alert-".concat(a),role:"alert"},c.map((function(e,t){return r.a.createElement("p",{key:t,className:"small"},e)})))},W=function(){var e=Object(n.useContext)(_).setToken,t=Object(y.g)(),a=Object(n.useState)(!1),c=Object(i.a)(a,2),s=c[0],l=c[1],m=Object(n.useState)({username:"",password:"",first_name:"",last_name:"",email:"",errors:[]}),p=Object(i.a)(m,2),f=p[0],b=p[1],d=function(e){var t=e.target,a=t.name,n=t.value;b((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(v.a)({errors:[]},a,n))}))},h=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),a.prev=1,f.errors,c=Object(B.a)(f,["errors"]),!s){a.next=9;break}return a.next=6,j.signup(c);case 6:r=a.sent,a.next=12;break;case 9:return a.next=11,j.login(c);case 11:r=a.sent;case 12:e(r),t.push("/"),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),b((function(e){return Object(R.a)(Object(R.a)({},e),{},{errors:a.t0})}));case 19:case"end":return a.stop()}}),a,null,[[1,16]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"Login container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("ul",{className:"nav nav-tabs card-header-tabs ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:s?"nav-link":"nav-link active",onClick:function(){return l(!1)}},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:s?"nav-link active":"nav-link",onClick:function(){return l(!0)}},"Signup")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{className:"form-control",type:"text",value:f.username,id:"username",name:"username",placeholder:"Username",onChange:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",value:f.password,id:"password",name:"password",placeholder:"Password",onChange:d})),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"first_name"},"First Name"),r.a.createElement("input",{className:"form-control",type:"text",value:f.first_name,id:"first_name",name:"first_name",placeholder:"e.g. John",onChange:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"last_name"},"Last Name"),r.a.createElement("input",{className:"form-control",type:"text",value:f.last_name,id:"last_name",name:"last_name",placeholder:"e.g. Smith",onChange:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{className:"form-control",type:"text",value:f.email,id:"email",name:"email",placeholder:"e.g. johnsmith@gmail.com",onChange:d}))),r.a.createElement("button",{className:"btn btn-info"},s?"Create Account":"Log in")),f.errors.length>0?r.a.createElement(M,{msgs:f.errors}):null)))},H=(a(292),function(){var e=Object(n.useContext)(_),t=e.currentUser,a=e.setCurrentUser,c=t.first_name,s=t.last_name,l=t.email,m=Object(n.useState)({first_name:c,last_name:s,email:l,password:""}),f=Object(i.a)(m,2),b=f[0],d=f[1],h=function(e){var t=e.target,a=t.name,n=t.value;d((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(v.a)({},a,n))}))},E=function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,j.updateUser(t.username,b);case 3:r=e.sent,a((function(e){return Object(R.a)(Object(R.a)({},e),{},{user:r})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Profile container mt-3"},r.a.createElement("div",{className:"card pt-2"},r.a.createElement("h4",{className:"card-title"},t.username,"'s Profile:"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:E},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"first_name"},"First Name"),r.a.createElement("input",{className:"form-control",type:"text",value:b.first_name,id:"first_name",name:"first_name",placeholder:"e.g. John",onChange:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"last_name"},"Last Name"),r.a.createElement("input",{className:"form-control",type:"text",value:b.last_name,id:"last_name",name:"last_name",placeholder:"e.g. Smith",onChange:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{className:"form-control",type:"text",value:b.email,id:"email",name:"email",placeholder:"e.g. johnsmith@gmail.com",onChange:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Confirm with Password"),r.a.createElement("input",{className:"form-control",type:"password",value:b.password,id:"password",name:"password",placeholder:"Password",onChange:h})),r.a.createElement("button",{className:"btn btn-success"},"Save Updated Information"))),r.a.createElement("div",{className:"card-footer"},r.a.createElement(p.b,{to:"/applications"},r.a.createElement("button",{className:"btn btn-outline-info"},"View current applications")))))}),V=function(e){var t=e.exact,a=e.path,c=e.children;return Object(n.useContext)(_).currentUser?r.a.createElement(y.b,{exact:t,path:a},c):r.a.createElement(y.a,{to:"/login"})},$=function(){var e=Object(n.useContext)(_).currentUser,t=q(),a=Object(i.a)(t,2),c=a[0],s=a[1];return r.a.createElement("div",{className:"Applications container mt-4"},r.a.createElement("h2",{className:"display-5"},"Current Applications"),r.a.createElement(J,{jobs:e.jobs,apply:c,unapply:s}))},z=function(){return r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/"},r.a.createElement(L,null)),r.a.createElement(y.b,{exact:!0,path:"/login"},r.a.createElement(W,null)),r.a.createElement(V,{exact:!0,path:"/companies"},r.a.createElement(S,null)),r.a.createElement(V,{exact:!0,path:"/companies/:handle"},r.a.createElement(F,null)),r.a.createElement(V,{exact:!0,path:"/jobs"},r.a.createElement(D,null)),r.a.createElement(V,{exact:!0,path:"/profile"},r.a.createElement(H,null)),r.a.createElement(V,{exact:!0,path:"/applications"},r.a.createElement($,null)),r.a.createElement(y.a,{to:"/"}))},G=function(e,t){var a=Object(n.useState)((function(){var a;try{a=JSON.parse(window.localStorage.getItem(e)||JSON.stringify(t))}catch(n){console.log(n),a=t}return a})),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){c?localStorage.setItem(e,JSON.stringify(c)):localStorage.removeItem(e)}),[e,c]),[c,s]};a(293);var K=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(i.a)(s,2),p=l[0],v=l[1],b=Object(n.useState)(!0),d=Object(i.a)(b,2),h=d[0],E=d[1],g=G("token",{}),y=Object(i.a)(g,2),N=y[0],O=y[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(m.decode)(N),a=t.username,e.next=4,j.getUser(a);case 4:n=e.sent,c(n),v(n.jobs.map((function(e){return e.id}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c(null),v([]);case 13:E(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();E(!0),e()}),[N]),h?r.a.createElement("div",null,"Loading your data"):r.a.createElement(_.Provider,{value:{currentUser:a,setCurrentUser:c,setToken:O,appliedIds:p,setAppliedIds:v}},r.a.createElement("div",{className:"App bg-light"},r.a.createElement(f,{currentUser:a,logout:function(){c(null),v([]),O("")}}),r.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(294);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,null,r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[142,1,2]]]);
//# sourceMappingURL=main.0d208069.chunk.js.map